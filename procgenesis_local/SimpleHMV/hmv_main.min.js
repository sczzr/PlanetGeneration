/*
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
<!-- code copyright (c) 2016-2017 ProcGenesis                            -->
<!-- - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -->
*/

var _0x7b05=["\x23\x30\x30\x31\x65\x63\x66","\x74\x6F\x52\x67\x62","\x73\x70\x65\x63\x74\x72\x75\x6D","\x23\x73\x65\x61\x43\x6F\x6C\x6F\x72","\x2E\x70\x65\x72\x63\x65\x6E\x74","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72","\x54\x65\x78\x74\x75\x72\x65\x43\x61\x6E\x76","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x77\x69\x64\x74\x68","\x33\x44\x43\x61\x6E\x76","\x68\x65\x69\x67\x68\x74","\x76\x69\x73\x69\x62\x69\x6C\x69\x74\x79","\x73\x74\x79\x6C\x65","\x77\x61\x69\x74\x5F\x6D\x65\x73\x73\x61\x67\x65","\x68\x65\x6C\x70\x54\x65\x78\x74\x44\x69\x76","\x76\x69\x73\x69\x62\x6C\x65","\x68\x69\x64\x64\x65\x6E","\x6E\x6F\x77","\x70\x61\x72\x73\x65","\x74\x65\x78\x74\x2F\x70\x6C\x61\x69\x6E","\x73\x61\x76\x65\x20\x74\x69\x6D\x65\x3A\x20","\x6C\x6F\x67","\x2E\x73\x74\x6C","\x2E\x6F\x62\x6A","\x23\x67\x72\x61\x64\x50\x69\x63\x6B\x65\x72","\x62\x6C\x61\x63\x6B","\x77\x68\x69\x74\x65","\x6C\x65\x66\x74","\x63\x73\x73","\x63\x75\x72\x72\x65\x6E\x74\x5F\x73\x6C\x69\x64\x65\x72\x5F\x69\x64","\x67\x78","\x63\x70\x2D\x64\x65\x66\x61\x75\x6C\x74","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x73\x42\x79\x43\x6C\x61\x73\x73\x4E\x61\x6D\x65","\x6D\x61\x72\x67\x69\x6E\x2D\x6C\x65\x66\x74","\x2D\x31\x33\x36\x70\x78","\x30\x70\x78","\x76\x61\x6C\x75\x65","\x67\x72\x61\x64\x78\x5F\x70\x72\x65\x73\x65\x74\x73","\x72\x67\x62\x28\x30\x2C\x30\x2C\x30\x29","\x72\x67\x62\x28\x32\x35\x35\x2C\x32\x35\x35\x2C\x32\x35\x35\x29","\x42\x57","\x72\x67\x62\x28\x31\x37\x2C\x30\x2C\x32\x30\x30\x29","\x72\x67\x62\x28\x32\x32\x35\x2C\x32\x32\x30\x2C\x31\x37\x32\x29","\x72\x67\x62\x28\x38\x31\x2C\x31\x36\x33\x2C\x36\x30\x29","\x72\x67\x62\x28\x38\x2C\x35\x31\x2C\x36\x29","\x72\x67\x62\x28\x31\x38\x34\x2C\x31\x33\x30\x2C\x36\x36\x29","\x54\x65\x72\x72\x65\x73\x74\x72\x69\x61\x6C","\x72\x67\x62\x28\x31\x36\x35\x2C\x31\x30\x2C\x31\x38\x38\x29","\x72\x67\x62\x28\x32\x39\x2C\x33\x37\x2C\x32\x32\x30\x29","\x72\x67\x62\x28\x35\x39\x2C\x32\x32\x33\x2C\x32\x32\x33\x29","\x72\x67\x62\x28\x39\x30\x2C\x32\x32\x33\x2C\x32\x33\x29","\x72\x67\x62\x28\x32\x30\x32\x2C\x32\x31\x38\x2C\x32\x36\x29","\x72\x67\x62\x28\x32\x30\x37\x2C\x31\x34\x37\x2C\x32\x36\x29","\x72\x67\x62\x28\x32\x34\x36\x2C\x31\x39\x2C\x39\x29","\x54\x6F\x70\x6F\x67\x72\x61\x70\x68\x69\x63","\x72\x61\x6E\x64\x5F\x52\x47\x42","\x72\x61\x6E\x64\x5F\x70\x6F\x73","\x67\x65\x74\x5F\x72\x61\x6E\x64\x6F\x6D\x5F\x72\x67\x62","\x67\x65\x74\x5F\x72\x61\x6E\x64\x6F\x6D\x5F\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x4E\x6F\x69\x73\x65","\x68\x69\x64\x65","\x23\x67\x72\x61\x64\x78\x5F\x73\x6C\x69\x64\x65\x72\x5F\x69\x6E\x66\x6F","\x6C\x65\x6E\x67\x74\x68","\x73\x6C\x69\x64\x65\x72\x5F\x69\x64\x73","\x72\x65\x6D\x6F\x76\x65\x43\x68\x69\x6C\x64","\x70\x61\x72\x65\x6E\x74\x4E\x6F\x64\x65","\x73\x70\x6C\x69\x63\x65","\x73\x6C\x69\x64\x65\x72\x5F\x69\x6E\x64\x65\x78","\x61\x64\x64\x5F\x73\x6C\x69\x64\x65\x72","\x61\x70\x70\x6C\x79\x5F\x64\x65\x66\x61\x75\x6C\x74\x5F\x73\x74\x79\x6C\x65\x73","\x43\x6F\x65\x66\x66","\x45\x78\x70","\x53\x63\x61\x6C\x65","\x42\x6C\x75\x72","\x73\x65\x61\x4C\x76\x6C","\x43\x6F\x65\x66\x66\x54\x65\x78\x74","\x45\x78\x70\x54\x65\x78\x74","\x53\x63\x61\x6C\x65\x54\x65\x78\x74","\x42\x6C\x75\x72\x54\x65\x78\x74","\x73\x65\x61\x4C\x76\x6C\x54\x65\x78\x74","\x64\x6F\x77\x6E\x6C\x6F\x61\x64\x54\x65\x78\x74\x75\x72\x65","\x44\x6F\x77\x6E\x6C\x6F\x61\x64\x43\x61\x6E\x76","\x63\x6C\x69\x63\x6B","\x68\x6D\x5F\x74\x65\x78\x74\x75\x72\x65\x2E\x68\x74\x6D\x6C","\x6F\x70\x65\x6E","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x72\x6F\x75\x6E\x64","\x6D\x61\x78","\x6D\x69\x6E","\x61\x62\x6F\x72\x74","\x46\x69\x6C\x65\x20\x4E\x6F\x74\x20\x46\x6F\x75\x6E\x64\x21","\x4E\x4F\x54\x5F\x46\x4F\x55\x4E\x44\x5F\x45\x52\x52","\x65\x72\x72\x6F\x72","\x74\x61\x72\x67\x65\x74","\x46\x69\x6C\x65\x20\x69\x73\x20\x6E\x6F\x74\x20\x72\x65\x61\x64\x61\x62\x6C\x65","\x4E\x4F\x54\x5F\x52\x45\x41\x44\x41\x42\x4C\x45\x5F\x45\x52\x52","\x41\x42\x4F\x52\x54\x5F\x45\x52\x52","\x41\x6E\x20\x65\x72\x72\x6F\x72\x20\x6F\x63\x63\x75\x72\x72\x65\x64\x20\x72\x65\x61\x64\x69\x6E\x67\x20\x74\x68\x69\x73\x20\x66\x69\x6C\x65\x2E","\x63\x6F\x64\x65","\x6C\x65\x6E\x67\x74\x68\x43\x6F\x6D\x70\x75\x74\x61\x62\x6C\x65","\x6C\x6F\x61\x64\x65\x64","\x74\x6F\x74\x61\x6C","\x25","\x74\x65\x78\x74\x43\x6F\x6E\x74\x65\x6E\x74","\x30\x25","\x66\x69\x6C\x65\x73","\x69\x6D\x61\x67\x65\x2E\x2A","\x6D\x61\x74\x63\x68","\x74\x79\x70\x65","\x6F\x6E\x65\x72\x72\x6F\x72","\x6F\x6E\x70\x72\x6F\x67\x72\x65\x73\x73","\x6F\x6E\x61\x62\x6F\x72\x74","\x46\x69\x6C\x65\x20\x72\x65\x61\x64\x20\x63\x61\x6E\x63\x65\x6C\x6C\x65\x64","\x6F\x6E\x6C\x6F\x61\x64\x73\x74\x61\x72\x74","\x63\x6C\x61\x73\x73\x4E\x61\x6D\x65","\x70\x72\x6F\x67\x72\x65\x73\x73\x5F\x62\x61\x72","\x6C\x6F\x61\x64\x69\x6E\x67","\x6F\x6E\x6C\x6F\x61\x64","\x31\x30\x30\x25","\x64\x6F\x63\x75\x6D\x65\x6E\x74\x2E\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64\x28\x27\x70\x72\x6F\x67\x72\x65\x73\x73\x5F\x62\x61\x72\x27\x29\x2E\x63\x6C\x61\x73\x73\x4E\x61\x6D\x65\x3D\x27\x27\x3B","\x72\x65\x73\x75\x6C\x74","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x50\x72\x65\x76\x69\x65\x77\x43\x61\x6E\x76","\x4F\x72\x69\x67\x69\x6E\x61\x6C\x43\x61\x6E\x76","\x4F\x72\x69\x67\x44\x6F\x77\x6E\x6C\x6F\x61\x64\x43\x61\x6E\x76","\x63\x6C\x65\x61\x72\x52\x65\x63\x74","\x66\x6C\x6F\x6F\x72","\x64\x72\x61\x77\x49\x6D\x61\x67\x65","\x73\x72\x63","\x72\x65\x61\x64\x41\x73\x44\x61\x74\x61\x55\x52\x4C","\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x2D\x63\x6F\x6C\x6F\x72","\x33\x44\x42\x75\x74\x74\x6F\x6E","\x23\x30\x30\x35\x39\x62\x33","\x67\x65\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x64\x61\x74\x61","\x69\x6E\x6E\x65\x72\x57\x69\x64\x74\x68","\x69\x6E\x6E\x65\x72\x48\x65\x69\x67\x68\x74","\x7A","\x70\x6F\x73\x69\x74\x69\x6F\x6E","\x79","\x73\x65\x74\x53\x69\x7A\x65","\x64\x6F\x6D\x45\x6C\x65\x6D\x65\x6E\x74","\x68\x74\x6D\x6C","\x23\x63\x61\x6E\x76\x61\x73\x2D\x63\x6F\x6E\x74\x61\x69\x6E\x65\x72","\x73\x65\x74","\x61\x64\x64","\x77\x61\x74\x65\x72\x6E\x6F\x72\x6D\x61\x6C\x73\x2E\x6A\x70\x67","\x6C\x6F\x61\x64","\x77\x72\x61\x70\x53","\x77\x72\x61\x70\x54","\x52\x65\x70\x65\x61\x74\x57\x72\x61\x70\x70\x69\x6E\x67","\x6E\x6F\x72\x6D\x61\x6C\x69\x7A\x65","\x63\x6C\x6F\x6E\x65","\x6D\x61\x74\x65\x72\x69\x61\x6C","\x78","\x72\x6F\x74\x61\x74\x69\x6F\x6E","\x50\x49","\x6F\x70\x61\x63\x69\x74\x79","\x64\x79\x6E\x61\x6D\x69\x63","\x6D\x61\x70","\x6E\x65\x65\x64\x73\x55\x70\x64\x61\x74\x65","\x76\x65\x72\x74\x69\x63\x65\x73","\x67\x65\x6F\x6D\x65\x74\x72\x79","\x70\x6F\x77","\x73\x65\x61\x54\x6F\x67\x67\x6C\x65","\x65\x78\x70\x6F\x72\x74\x42\x69\x6E\x61\x72\x79\x53\x54\x4C","\x74\x69\x6D\x65","\x75\x6E\x69\x66\x6F\x72\x6D\x73","\x73\x63\x61\x6C\x65","\x72","\x77\x61\x74\x65\x72\x43\x6F\x6C\x6F\x72","\x63\x68\x69\x6C\x64\x72\x65\x6E","\x67","\x62","\x63\x6F\x6C\x6F\x72","\x70\x75\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x63\x68\x65\x63\x6B\x65\x64","\x62\x6C\x75\x72\x54\x65\x78\x74\x75\x72\x65","\x73\x6C\x69\x64\x65\x72\x73","\x63\x68\x61\x6E\x67\x65","\x76\x65\x72\x74\x69\x63\x65\x73\x4E\x65\x65\x64\x55\x70\x64\x61\x74\x65","\x75\x70\x64\x61\x74\x65","\x72\x65\x6E\x64\x65\x72","\x4D\x65\x73\x68","\x6B\x65\x65\x70\x4D\x65","\x75\x73\x65\x72\x44\x61\x74\x61","\x70\x75\x73\x68","\x74\x72\x61\x76\x65\x72\x73\x65","\x72\x65\x6D\x6F\x76\x65","\x64\x69\x73\x70\x6F\x73\x65","\x6C\x61\x73\x74\x43\x68\x69\x6C\x64","\x73\x65\x61\x54\x79\x70\x65","\x6D\x69\x72\x72\x6F\x72\x65\x64","\x74\x72\x61\x6E\x73\x70\x61\x72\x65\x6E\x74","\x6D\x69\x72\x72\x6F\x72"];var seaCol={r:0,g:30,b:207};var texGrad;var texGradCount=0;var rt;$(_0x7b05[3])[_0x7b05[2]]({color:_0x7b05[0],change:function(_0x9b0bx5){seaCol= _0x9b0bx5[_0x7b05[1]]()}});var reader;var progress=document[_0x7b05[5]](_0x7b05[4]);var hTexture= new THREE.Texture(document[_0x7b05[7]](_0x7b05[6]));var canWidth=document[_0x7b05[7]](_0x7b05[9])[_0x7b05[8]],canHeight=document[_0x7b05[7]](_0x7b05[9])[_0x7b05[10]];var img;var doCleanup=false;var changePlaneGeom=false;var oceanToggle=true;var tables;function setWaitVisibility(_0x9b0bx11){document[_0x7b05[7]](_0x7b05[13])[_0x7b05[12]][_0x7b05[11]]= _0x9b0bx11}function showHelpText(){document[_0x7b05[7]](_0x7b05[14])[_0x7b05[12]][_0x7b05[11]]= _0x7b05[15]}function hideHelpText(){document[_0x7b05[7]](_0x7b05[14])[_0x7b05[12]][_0x7b05[11]]= _0x7b05[16]}function saveSTL(scene,_0x9b0bx16){var _0x9b0bx17=performance[_0x7b05[17]]();var _0x9b0bx18= new THREE.STLExporter();var _0x9b0bx19=_0x9b0bx18[_0x7b05[18]](scene);var _0x9b0bx1a= new Blob([_0x9b0bx19],{type:_0x7b05[19]});var _0x9b0bx1b=performance[_0x7b05[17]]();console[_0x7b05[21]](_0x7b05[20]+ (_0x9b0bx1b- _0x9b0bx17));saveAs(_0x9b0bx1a,_0x9b0bx16+ _0x7b05[22])}function saveBinarySTL(scene,_0x9b0bx16){var _0x9b0bx18= new THREE.STLBinaryExporter();var _0x9b0bx19=_0x9b0bx18[_0x7b05[18]](scene);var _0x9b0bx1a= new Blob([_0x9b0bx19],{type:_0x7b05[19]});saveAs(_0x9b0bx1a,_0x9b0bx16+ _0x7b05[22])}function saveOBJ(scene,_0x9b0bx16){var _0x9b0bx18= new THREE.OBJExporter();var _0x9b0bx19=_0x9b0bx18[_0x7b05[18]](scene);var _0x9b0bx1a= new Blob([_0x9b0bx19],{type:_0x7b05[19]});saveAs(_0x9b0bx1a,_0x9b0bx16+ _0x7b05[23])}gradX(_0x7b05[24],{sliders:[{color:_0x7b05[25],position:0},{color:_0x7b05[26],position:100}],change:function(_0x9b0bx1e,_0x9b0bx1f){texGrad= _0x9b0bx1e;var _0x9b0bx20=gradx[_0x7b05[30]](gradx[_0x7b05[29]])[_0x7b05[28]](_0x7b05[27]);if(parseInt(_0x9b0bx20)> 306){var _0x9b0bx21=document[_0x7b05[32]](_0x7b05[31]);_0x9b0bx21[0][_0x7b05[12]][_0x7b05[33]]= _0x7b05[34]};if(parseInt(_0x9b0bx20)< 146){var _0x9b0bx21=document[_0x7b05[32]](_0x7b05[31]);_0x9b0bx21[0][_0x7b05[12]][_0x7b05[33]]= _0x7b05[35]};updateGradient()}});function setGradPreset(){var _0x9b0bx23=document[_0x7b05[7]](_0x7b05[37])[_0x7b05[36]];var _0x9b0bx24=[];switch(_0x9b0bx23){case _0x7b05[40]:_0x9b0bx24= [{color:_0x7b05[38],position:0},{color:_0x7b05[39],position:100}];break;case _0x7b05[46]:_0x9b0bx24= [{color:_0x7b05[41],position:0},{color:_0x7b05[42],position:9},{color:_0x7b05[43],position:28},{color:_0x7b05[44],position:45},{color:_0x7b05[45],position:60},{color:_0x7b05[39],position:82}];break;case _0x7b05[54]:_0x9b0bx24= [{color:_0x7b05[47],position:0},{color:_0x7b05[48],position:10},{color:_0x7b05[49],position:24},{color:_0x7b05[50],position:36},{color:_0x7b05[51],position:47},{color:_0x7b05[52],position:58},{color:_0x7b05[53],position:84}];break;case _0x7b05[59]:gradx[_0x7b05[55]]= [];gradx[_0x7b05[56]]= [];for(var _0x9b0bx25=0;_0x9b0bx25< 20;_0x9b0bx25++){_0x9b0bx24[_0x9b0bx25]= {color:gradx[_0x7b05[57]](),position:gradx[_0x7b05[58]]()}};break;default:_0x9b0bx24= [];break};gradx[_0x7b05[30]](_0x7b05[61])[_0x7b05[60]]();for(var _0x9b0bx25=0;_0x9b0bx25< gradx[_0x7b05[63]][_0x7b05[62]];_0x9b0bx25++){var _0x9b0bx26=document[_0x7b05[7]](gradx[_0x7b05[63]][_0x9b0bx25]);if(_0x9b0bx26){_0x9b0bx26[_0x7b05[65]][_0x7b05[64]](_0x9b0bx26)}};gradx[_0x7b05[63]][_0x7b05[66]](0,gradx[_0x7b05[63]][_0x7b05[62]]);gradx[_0x7b05[29]]= false;gradx[_0x7b05[67]]= 0;gradx[_0x7b05[68]](_0x9b0bx24);gradx[_0x7b05[69]]()}function resetControls(){document[_0x7b05[7]](_0x7b05[70])[_0x7b05[36]]= 1;document[_0x7b05[7]](_0x7b05[71])[_0x7b05[36]]= 1;document[_0x7b05[7]](_0x7b05[72])[_0x7b05[36]]= 5;document[_0x7b05[7]](_0x7b05[73])[_0x7b05[36]]= 0;document[_0x7b05[7]](_0x7b05[74])[_0x7b05[36]]= 1;oceanToggle= true;updateText(_0x7b05[75],1);updateText(_0x7b05[76],1);updateText(_0x7b05[77],5);updateText(_0x7b05[78],0);updateText(_0x7b05[79],1)}var button=document[_0x7b05[7]](_0x7b05[80]);var canvas=document[_0x7b05[7]](_0x7b05[81]);button[_0x7b05[85]](_0x7b05[82],function(_0x9b0bx2a){window[_0x7b05[84]](_0x7b05[83])});function updateText(_0x9b0bx2c,_0x9b0bx2d){document[_0x7b05[7]](_0x9b0bx2c)[_0x7b05[36]]= _0x9b0bx2d}function updateSlider(_0x9b0bx2c,_0x9b0bx2d){document[_0x7b05[7]](_0x9b0bx2c)[_0x7b05[36]]= _0x9b0bx2d}function hslToRgb(_0x9b0bx30,_0x9b0bx31,_0x9b0bx32){var _0x9b0bx33,_0x9b0bx34,_0x9b0bx35;if(_0x9b0bx31== 0){_0x9b0bx33= _0x9b0bx34= _0x9b0bx35= _0x9b0bx32}else {var _0x9b0bx36=function _0x9b0bx36(_0x9b0bx37,_0x9b0bx38,_0x9b0bx39){if(_0x9b0bx39< 0){_0x9b0bx39+= 1};if(_0x9b0bx39> 1){_0x9b0bx39-= 1};if(_0x9b0bx39< 1/ 6){return _0x9b0bx37+ (_0x9b0bx38- _0x9b0bx37)* 6* _0x9b0bx39};if(_0x9b0bx39< 1/ 2){return _0x9b0bx38};if(_0x9b0bx39< 2/ 3){return _0x9b0bx37+ (_0x9b0bx38- _0x9b0bx37)* (2/ 3- _0x9b0bx39)* 6};return _0x9b0bx37};var _0x9b0bx38=_0x9b0bx32< 0.5?_0x9b0bx32* (1+ _0x9b0bx31):_0x9b0bx32+ _0x9b0bx31- _0x9b0bx32* _0x9b0bx31;var _0x9b0bx37=2* _0x9b0bx32- _0x9b0bx38;_0x9b0bx33= _0x9b0bx36(_0x9b0bx37,_0x9b0bx38,_0x9b0bx30+ 1/ 3);_0x9b0bx34= _0x9b0bx36(_0x9b0bx37,_0x9b0bx38,_0x9b0bx30);_0x9b0bx35= _0x9b0bx36(_0x9b0bx37,_0x9b0bx38,_0x9b0bx30- 1/ 3)};return {r:Math[_0x7b05[86]](_0x9b0bx33* 255),g:Math[_0x7b05[86]](_0x9b0bx34* 255),b:Math[_0x7b05[86]](_0x9b0bx35* 255)}}function rgbToHsl(_0x9b0bx33,_0x9b0bx34,_0x9b0bx35){_0x9b0bx33/= 255,_0x9b0bx34/= 255,_0x9b0bx35/= 255;var _0x9b0bx3b=Math[_0x7b05[87]](_0x9b0bx33,_0x9b0bx34,_0x9b0bx35),_0x9b0bx3c=Math[_0x7b05[88]](_0x9b0bx33,_0x9b0bx34,_0x9b0bx35);var _0x9b0bx30,_0x9b0bx31,_0x9b0bx32=(_0x9b0bx3b+ _0x9b0bx3c)/ 2;if(_0x9b0bx3b== _0x9b0bx3c){_0x9b0bx30= _0x9b0bx31= 0}else {var _0x9b0bx3d=_0x9b0bx3b- _0x9b0bx3c;_0x9b0bx31= _0x9b0bx32> 0.5?_0x9b0bx3d/ (2- _0x9b0bx3b- _0x9b0bx3c):_0x9b0bx3d/ (_0x9b0bx3b+ _0x9b0bx3c);switch(_0x9b0bx3b){case _0x9b0bx33:_0x9b0bx30= (_0x9b0bx34- _0x9b0bx35)/ _0x9b0bx3d+ (_0x9b0bx34< _0x9b0bx35?6:0);break;case _0x9b0bx34:_0x9b0bx30= (_0x9b0bx35- _0x9b0bx33)/ _0x9b0bx3d+ 2;break;case _0x9b0bx35:_0x9b0bx30= (_0x9b0bx33- _0x9b0bx34)/ _0x9b0bx3d+ 4;break};_0x9b0bx30/= 6};return {h:_0x9b0bx30,s:_0x9b0bx31,l:_0x9b0bx32}}function abortRead(){reader[_0x7b05[89]]()}function errorHandler(_0x9b0bx40){switch(_0x9b0bx40[_0x7b05[93]][_0x7b05[92]][_0x7b05[98]]){case _0x9b0bx40[_0x7b05[93]][_0x7b05[92]][_0x7b05[91]]:alert(_0x7b05[90]);break;case _0x9b0bx40[_0x7b05[93]][_0x7b05[92]][_0x7b05[95]]:alert(_0x7b05[94]);break;case _0x9b0bx40[_0x7b05[93]][_0x7b05[92]][_0x7b05[96]]:break;default:alert(_0x7b05[97])}}function updateProgress(_0x9b0bx40){if(_0x9b0bx40[_0x7b05[99]]){var _0x9b0bx42=Math[_0x7b05[86]]((_0x9b0bx40[_0x7b05[100]]/ _0x9b0bx40[_0x7b05[101]])* 100);if(_0x9b0bx42< 100){progress[_0x7b05[12]][_0x7b05[8]]= _0x9b0bx42+ _0x7b05[102];progress[_0x7b05[103]]= _0x9b0bx42+ _0x7b05[102]}}}function handleFileSelect(_0x9b0bx40){progress[_0x7b05[12]][_0x7b05[8]]= _0x7b05[104];progress[_0x7b05[103]]= _0x7b05[104];var _0x9b0bx44=_0x9b0bx40[_0x7b05[93]][_0x7b05[105]];for(var _0x9b0bx25=0,_0x9b0bx45;_0x9b0bx45= _0x9b0bx44[_0x9b0bx25];_0x9b0bx25++){if(!_0x9b0bx45[_0x7b05[108]][_0x7b05[107]](_0x7b05[106])){continue};reader=  new FileReader();reader[_0x7b05[109]]= errorHandler;reader[_0x7b05[110]]= updateProgress;reader[_0x7b05[111]]= function(_0x9b0bx2a){alert(_0x7b05[112])};reader[_0x7b05[113]]= function(_0x9b0bx2a){document[_0x7b05[7]](_0x7b05[115])[_0x7b05[114]]= _0x7b05[116]};reader[_0x7b05[117]]= (function(_0x9b0bx46){progress[_0x7b05[12]][_0x7b05[8]]= _0x7b05[118];progress[_0x7b05[103]]= _0x7b05[118];setTimeout(_0x7b05[119],2000);var _0x9b0bx47=event[_0x7b05[93]][_0x7b05[120]],_0x9b0bx48=document[_0x7b05[7]](_0x7b05[9]),_0x9b0bx49=document[_0x7b05[7]](_0x7b05[9])[_0x7b05[122]](_0x7b05[121]);b= document[_0x7b05[7]](_0x7b05[123]),bctx= b[_0x7b05[122]](_0x7b05[121]);t= document[_0x7b05[7]](_0x7b05[6]),tctx= t[_0x7b05[122]](_0x7b05[121]);o= document[_0x7b05[7]](_0x7b05[124]),octx= o[_0x7b05[122]](_0x7b05[121]);od= document[_0x7b05[7]](_0x7b05[125]),odctx= od[_0x7b05[122]](_0x7b05[121]);d= document[_0x7b05[7]](_0x7b05[125]),dctx= d[_0x7b05[122]](_0x7b05[121]);img=  new Image();var _0x9b0bx4a=1;_0x9b0bx49[_0x7b05[126]](0,0,_0x9b0bx48[_0x7b05[8]],_0x9b0bx48[_0x7b05[10]]);img[_0x7b05[117]]= function(){_0x9b0bx48[_0x7b05[8]]= img[_0x7b05[8]];_0x9b0bx48[_0x7b05[10]]= img[_0x7b05[10]];t[_0x7b05[8]]= _0x9b0bx48[_0x7b05[8]];t[_0x7b05[10]]= _0x9b0bx48[_0x7b05[10]];o[_0x7b05[8]]= _0x9b0bx48[_0x7b05[8]];o[_0x7b05[10]]= _0x9b0bx48[_0x7b05[10]];canWidth= img[_0x7b05[8]];canHeight= img[_0x7b05[10]];_0x9b0bx4a= img[_0x7b05[8]]/ img[_0x7b05[10]];d[_0x7b05[8]]= img[_0x7b05[8]];d[_0x7b05[10]]= img[_0x7b05[10]];od[_0x7b05[8]]= img[_0x7b05[8]];od[_0x7b05[10]]= img[_0x7b05[10]];if(img[_0x7b05[8]]> 600){_0x9b0bx48[_0x7b05[8]]= 600;t[_0x7b05[8]]= 600;o[_0x7b05[8]]= 600;canWidth= 600;_0x9b0bx48[_0x7b05[10]]= Math[_0x7b05[127]](_0x9b0bx48[_0x7b05[8]]/ _0x9b0bx4a);t[_0x7b05[10]]= _0x9b0bx48[_0x7b05[10]];o[_0x7b05[10]]= _0x9b0bx48[_0x7b05[10]];canHeight= Math[_0x7b05[127]](_0x9b0bx48[_0x7b05[8]]/ _0x9b0bx4a)};if(_0x9b0bx48[_0x7b05[10]]> 600){_0x9b0bx48[_0x7b05[10]]= 600;t[_0x7b05[10]]= 600;o[_0x7b05[10]]= 600;canHeight= 600};b[_0x7b05[10]]= Math[_0x7b05[127]](b[_0x7b05[8]]/ _0x9b0bx4a);_0x9b0bx49[_0x7b05[128]](img,0,0,img[_0x7b05[8]],img[_0x7b05[10]],0,0,canWidth,canHeight);bctx[_0x7b05[128]](img,0,0,img[_0x7b05[8]],img[_0x7b05[10]],0,0,b[_0x7b05[8]],b[_0x7b05[10]]);tctx[_0x7b05[128]](img,0,0,img[_0x7b05[8]],img[_0x7b05[10]],0,0,t[_0x7b05[8]],t[_0x7b05[10]]);octx[_0x7b05[128]](img,0,0,img[_0x7b05[8]],img[_0x7b05[10]],0,0,o[_0x7b05[8]],o[_0x7b05[10]]);odctx[_0x7b05[128]](img,0,0)};img[_0x7b05[129]]= _0x9b0bx47});reader[_0x7b05[130]](_0x9b0bx40[_0x7b05[93]][_0x7b05[105]][0])};document[_0x7b05[7]](_0x7b05[132])[_0x7b05[12]][_0x7b05[131]]= _0x7b05[133]}function getHeightData(_0x9b0bx4c,_0x9b0bx4d,_0x9b0bx4e){if(_0x9b0bx4e== undefined){_0x9b0bx4e= 1};var _0x9b0bx4f=_0x9b0bx4c* _0x9b0bx4d;var data= new Float32Array(_0x9b0bx4f);for(var _0x9b0bx25=0;_0x9b0bx25< _0x9b0bx4f;_0x9b0bx25++){data[_0x9b0bx25]= 0};var _0x9b0bx51=document[_0x7b05[7]](_0x7b05[9])[_0x7b05[122]](_0x7b05[121])[_0x7b05[134]](0,0,_0x9b0bx4c,_0x9b0bx4d);var _0x9b0bx52=_0x9b0bx51[_0x7b05[135]];var _0x9b0bx53=0;for(var _0x9b0bx25=0;_0x9b0bx25< _0x9b0bx52[_0x7b05[62]];_0x9b0bx25+= 4){var _0x9b0bx54=_0x9b0bx52[_0x9b0bx25]+ _0x9b0bx52[_0x9b0bx25+ 1]+ _0x9b0bx52[_0x9b0bx25+ 2];if(_0x9b0bx25/ 4% _0x9b0bx4c== 0|| _0x9b0bx25/ 4% _0x9b0bx4c== _0x9b0bx4c- 1|| _0x9b0bx25/ 4< _0x9b0bx4c|| _0x9b0bx25/ 4> _0x9b0bx52[_0x7b05[62]]/ 4- _0x9b0bx4c){_0x9b0bx54= 0};data[_0x9b0bx53++]= _0x9b0bx54/ (12* _0x9b0bx4e)};return data}var scene;var planeMesh;var geometry;var material;var wwidth,wheight;var renderer;var data;var camera;var controls;var clearWaterMesh;function create3DMap(){if(!doCleanup){scene=  new THREE.Scene();camera=  new THREE.PerspectiveCamera(75,window[_0x7b05[136]]/ window[_0x7b05[137]],0.1,1500);camera[_0x7b05[139]][_0x7b05[138]]= 300;camera[_0x7b05[139]][_0x7b05[140]]= 300;renderer=  new THREE.WebGLRenderer();renderer[_0x7b05[141]](window[_0x7b05[136]]- 400,window[_0x7b05[137]]);controls=  new THREE.OrbitControls(camera,renderer[_0x7b05[142]]);$(_0x7b05[144])[_0x7b05[143]](renderer[_0x7b05[142]]);var _0x9b0bx5f= new THREE.DirectionalLight(0xffffbb,1);_0x9b0bx5f[_0x7b05[139]][_0x7b05[145]](-1,1,-1);scene[_0x7b05[146]](_0x9b0bx5f);var _0x9b0bx60= new THREE.TextureLoader()[_0x7b05[148]](_0x7b05[147]);_0x9b0bx60[_0x7b05[149]]= _0x9b0bx60[_0x7b05[150]]= THREE[_0x7b05[151]];water=  new THREE.Water(renderer,camera,scene,{textureWidth:512,textureHeight:512,waterNormals:_0x9b0bx60,alpha:1.0,sunDirection:_0x9b0bx5f[_0x7b05[139]][_0x7b05[153]]()[_0x7b05[152]](),sunColor:0xffffff,waterColor:0x001e0f,distortionScale:50.0});var _0x9b0bx61= new THREE.MeshBasicMaterial({color:0x001e0f,transparent:true,opacity:0.7});clearWaterMesh=  new THREE.Mesh(cwgeometry=  new THREE.BoxBufferGeometry(wwidth= canWidth,wheight= canHeight,1),_0x9b0bx61);mirrorMesh=  new THREE.Mesh(wgeometry=  new THREE.BoxBufferGeometry(wwidth= canWidth,wheight= canHeight,1),water[_0x7b05[154]]);mirrorMesh[_0x7b05[146]](water);mirrorMesh[_0x7b05[156]][_0x7b05[155]]= -Math[_0x7b05[157]]* 0.5;mirrorMesh[_0x7b05[139]][_0x7b05[140]]= 0;mirrorMesh[_0x7b05[154]][_0x7b05[158]]= 0.5;clearWaterMesh[_0x7b05[156]][_0x7b05[155]]= -Math[_0x7b05[157]]* 0.5;clearWaterMesh[_0x7b05[139]][_0x7b05[140]]= 0}else {_0x9b0bx67()};var _0x9b0bx48=document[_0x7b05[7]](_0x7b05[9]);var _0x9b0bx62=document[_0x7b05[7]](_0x7b05[70])[_0x7b05[36]];var _0x9b0bx63=document[_0x7b05[7]](_0x7b05[71])[_0x7b05[36]];data= getHeightData(canWidth,canHeight,document[_0x7b05[7]](_0x7b05[72])[_0x7b05[36]]);geometry=  new THREE.PlaneGeometry(canWidth,canHeight,canWidth- 1,canHeight- 1);geometry[_0x7b05[159]]= true;material=  new THREE.MeshBasicMaterial();material[_0x7b05[160]]= hTexture;material[_0x7b05[160]][_0x7b05[161]]= true;planeMesh=  new THREE.Mesh(geometry,material);for(var _0x9b0bx25=0;_0x9b0bx25< planeMesh[_0x7b05[163]][_0x7b05[162]][_0x7b05[62]];_0x9b0bx25++){planeMesh[_0x7b05[163]][_0x7b05[162]][_0x9b0bx25][_0x7b05[138]]= _0x9b0bx62* Math[_0x7b05[164]](data[_0x9b0bx25],_0x9b0bx63)};planeMesh[_0x7b05[156]][_0x7b05[155]]+= -Math[_0x7b05[157]]/ 2;scene[_0x7b05[146]](planeMesh);document[_0x7b05[7]](_0x7b05[165])[_0x7b05[12]][_0x7b05[131]]= _0x7b05[133];document[_0x7b05[7]](_0x7b05[166])[_0x7b05[12]][_0x7b05[131]]= _0x7b05[133];console[_0x7b05[21]](mirrorMesh);var _0x9b0bx64=function(_0x9b0bx65){requestAnimationFrame(_0x9b0bx64);var _0x9b0bx66=performance[_0x7b05[17]]()* 0.001;water[_0x7b05[154]][_0x7b05[168]][_0x7b05[167]][_0x7b05[36]]+= 1.0/ 60.0;mirrorMesh[_0x7b05[169]][_0x7b05[138]]= document[_0x7b05[7]](_0x7b05[74])[_0x7b05[36]]* 2;clearWaterMesh[_0x7b05[169]][_0x7b05[138]]= document[_0x7b05[7]](_0x7b05[74])[_0x7b05[36]]* 2;mirrorMesh[_0x7b05[172]][0][_0x7b05[171]][_0x7b05[170]]= seaCol[_0x7b05[170]]/ 255;mirrorMesh[_0x7b05[172]][0][_0x7b05[171]][_0x7b05[173]]= seaCol[_0x7b05[173]]/ 255;mirrorMesh[_0x7b05[172]][0][_0x7b05[171]][_0x7b05[174]]= seaCol[_0x7b05[174]]/ 255;clearWaterMesh[_0x7b05[154]][_0x7b05[175]][_0x7b05[170]]= seaCol[_0x7b05[170]]/ 255;clearWaterMesh[_0x7b05[154]][_0x7b05[175]][_0x7b05[173]]= seaCol[_0x7b05[173]]/ 255;clearWaterMesh[_0x7b05[154]][_0x7b05[175]][_0x7b05[174]]= seaCol[_0x7b05[174]]/ 255;if(changePlaneGeom){if(document[_0x7b05[7]](_0x7b05[73])[_0x7b05[36]]== 0){document[_0x7b05[7]](_0x7b05[9])[_0x7b05[122]](_0x7b05[121])[_0x7b05[128]](document[_0x7b05[7]](_0x7b05[124]),0,0);document[_0x7b05[7]](_0x7b05[6])[_0x7b05[122]](_0x7b05[121])[_0x7b05[128]](document[_0x7b05[7]](_0x7b05[124]),0,0)}else {document[_0x7b05[7]](_0x7b05[9])[_0x7b05[122]](_0x7b05[121])[_0x7b05[176]](stackBlur(document[_0x7b05[7]](_0x7b05[73])[_0x7b05[36]]),0,0);if(document[_0x7b05[7]](_0x7b05[178])[_0x7b05[177]]== true){document[_0x7b05[7]](_0x7b05[6])[_0x7b05[122]](_0x7b05[121])[_0x7b05[176]](stackBlur(document[_0x7b05[7]](_0x7b05[73])[_0x7b05[36]]),0,0)}else {document[_0x7b05[7]](_0x7b05[6])[_0x7b05[122]](_0x7b05[121])[_0x7b05[128]](document[_0x7b05[7]](_0x7b05[124]),0,0)}};gradx[_0x7b05[180]](gradx[_0x7b05[179]],1);hTexture[_0x7b05[161]]= true;data= getHeightData(canWidth,canHeight,document[_0x7b05[7]](_0x7b05[72])[_0x7b05[36]]);for(var _0x9b0bx25=0;_0x9b0bx25< planeMesh[_0x7b05[163]][_0x7b05[162]][_0x7b05[62]];_0x9b0bx25++){planeMesh[_0x7b05[163]][_0x7b05[162]][_0x9b0bx25][_0x7b05[138]]= document[_0x7b05[7]](_0x7b05[70])[_0x7b05[36]]* Math[_0x7b05[164]](data[_0x9b0bx25],document[_0x7b05[7]](_0x7b05[71])[_0x7b05[36]])};planeMesh[_0x7b05[163]][_0x7b05[181]]= true;changePlaneGeom= false;setWaitVisibility(_0x7b05[16])};controls[_0x7b05[182]]();water[_0x7b05[183]]();renderer[_0x7b05[183]](scene,camera)};setTimeout(_0x9b0bx64(),3000);document[_0x7b05[7]](_0x7b05[132])[_0x7b05[85]](_0x7b05[82],removeScene,false);setWaitVisibility(_0x7b05[16]);function _0x9b0bx67(){var _0x9b0bx68=[];scene[_0x7b05[188]](function(_0x9b0bx69){if(_0x9b0bx69 instanceof  THREE[_0x7b05[184]]&& !_0x9b0bx69[_0x7b05[186]][_0x7b05[185]]=== true){_0x9b0bx68[_0x7b05[187]](_0x9b0bx69)}});for(var _0x9b0bx25=0;_0x9b0bx25< _0x9b0bx68[_0x7b05[62]];_0x9b0bx25++){scene[_0x7b05[189]](_0x9b0bx68[_0x9b0bx25])};planeMesh[_0x7b05[163]][_0x7b05[190]]();geometry[_0x7b05[190]]();material[_0x7b05[190]]();planeMesh[_0x7b05[163]]= undefined;geometry= undefined;material= undefined;data= undefined;scene= null;scene=  new THREE.Scene()}}function removeScene(_0x9b0bx6b){if(_0x9b0bx6b[_0x7b05[191]]){doCleanup= true}}function toggleOcean(){var _0x9b0bx23=document[_0x7b05[7]](_0x7b05[192])[_0x7b05[36]];if(oceanToggle){if(_0x9b0bx23== _0x7b05[193]){scene[_0x7b05[146]](mirrorMesh)}else {if(_0x9b0bx23== _0x7b05[194]){scene[_0x7b05[146]](clearWaterMesh)}}}else {scene[_0x7b05[189]](mirrorMesh);scene[_0x7b05[189]](clearWaterMesh)};var _0x9b0bx6d=canWidth/ wwidth;var _0x9b0bx6e=canHeight/ wheight;clearWaterMesh[_0x7b05[169]][_0x7b05[145]](_0x9b0bx6d,_0x9b0bx6e,1);mirrorMesh[_0x7b05[169]][_0x7b05[145]](_0x9b0bx6d,_0x9b0bx6e,1);toggleCount++}var toggleCount=0;function switchSeaType(){console[_0x7b05[21]](toggleCount);var _0x9b0bx23=document[_0x7b05[7]](_0x7b05[192])[_0x7b05[36]];if(!oceanToggle&& toggleCount> 0){if(_0x9b0bx23== _0x7b05[193]){console[_0x7b05[21]](_0x7b05[195]);scene[_0x7b05[189]](clearWaterMesh);scene[_0x7b05[146]](mirrorMesh)}else {console[_0x7b05[21]](_0x7b05[194]);scene[_0x7b05[189]](mirrorMesh);scene[_0x7b05[146]](clearWaterMesh)}}}document[_0x7b05[7]](_0x7b05[105])[_0x7b05[85]](_0x7b05[180],handleFileSelect,false)

function updateGradient(isDownload){var origCanv = document.getElementById("OriginalCanv");var origctx = origCanv.getContext("2d");var threedCanv = document.getElementById("3DCanv");var threedctx = threedCanv.getContext("2d");var texCanv = document.getElementById("TextureCanv");var texctx = texCanv.getContext("2d");var origDownloadCanv = document.getElementById("OrigDownloadCanv");var origDownctx = origDownloadCanv.getContext("2d");
var downloadCanv = document.getElementById("DownloadCanv");var downctx = downloadCanv.getContext("2d");if(isDownload){var imgData = origDownctx.getImageData(0, 0, origDownloadCanv.width, origDownloadCanv.height); 
}else if(document.getElementById("blurTexture").checked == true){var imgData = threedctx.getImageData(0, 0, texCanv.width, texCanv.height);}else{var imgData = origctx.getImageData(0, 0, texCanv.width, texCanv.height);}var origLum = 0;var highStop = 0;var mappedRGB = {};var mappedHSL = {};var finalRGB = {};if (typeof texGrad[0][0] === 'string' || texGrad[0][0] instanceof String){for (var i = 0; i < texGrad.length; i++){
texGrad[i][0] = texGrad[i][0].substring(4, texGrad[i][0].length - 1);texGrad[i][0] = texGrad[i][0].split(",");texGrad[i][0] = texGrad[i][0].map(str => Number(str.trim()));}}
for (var i = 0; i < imgData.data.length; i += 4){origLum = (Math.min(imgData.data[i] / 255, imgData.data[i + 1] / 255, imgData.data[i + 2] / 255) + Math.max(imgData.data[i] / 255, imgData.data[i + 1] / 255, imgData.data[i + 2] / 255)) / 2;
if (origLum <= texGrad[0][1] / 100) {imgData.data[i] = texGrad[0][0][0];imgData.data[i + 1] = texGrad[0][0][1];imgData.data[i + 2] = texGrad[0][0][2];}else if (origLum >= texGrad[texGrad.length - 1][1] / 100) { imgData.data[i] = texGrad[texGrad.length - 1][0][0]; imgData.data[i + 1] = texGrad[texGrad.length - 1][0][1]; imgData.data[i + 2] = texGrad[texGrad.length - 1][0][2];}
else{for(var k = 0; k < texGrad.length; k++){if(origLum <= texGrad[k][1]/100){highStop = k;break;}}mappedRGB.r = Math.round(texGrad[highStop - 1][0][0] + ((texGrad[highStop][0][0] - texGrad[highStop - 1][0][0]) * ((origLum - texGrad[highStop - 1][1]/100)/(texGrad[highStop][1]/100 - texGrad[highStop - 1][1]/100))));
mappedRGB.g = Math.round(texGrad[highStop - 1][0][1] + ((texGrad[highStop][0][1] - texGrad[highStop - 1][0][1]) * ((origLum - texGrad[highStop - 1][1]/100)/(texGrad[highStop][1]/100 - texGrad[highStop - 1][1]/100))));
mappedRGB.b = Math.round(texGrad[highStop - 1][0][2] + ((texGrad[highStop][0][2] - texGrad[highStop - 1][0][2]) * ((origLum - texGrad[highStop - 1][1]/100)/(texGrad[highStop][1]/100 - texGrad[highStop - 1][1]/100))));
imgData.data[i] = mappedRGB.r;imgData.data[i + 1] = mappedRGB.g;imgData.data[i + 2] = mappedRGB.b;mappedHSL = rgbToHsl(mappedRGB.r, mappedRGB.g, mappedRGB.b);finalRGB = hslToRgb(mappedHSL.h, mappedHSL.s, mappedHSL.l);imgData.data[i] = finalRGB.r;imgData.data[i + 1] = finalRGB.g;imgData.data[i + 2] = finalRGB.b; 
}}if(isDownload){downloadCanv.width = origDownloadCanv.width;downloadCanv.height = origDownloadCanv.height;downctx.putImageData(imgData, 0, 0)}else{texctx.putImageData(imgData, 0, 0);}hTexture.needsUpdate = true;} 

